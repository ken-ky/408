### 数据表示与运算

#### 数制与编码

1. 进位计数制及相互转换：整数部分（除2余1时此位为1）、小数部分（乘2进1时，此位小数为1）

   + 定点数的编码和运算：

   + 无符号数：

     + 整数减法实现：$A-B\to A+B_{反码末位+1}$
     + 溢出判断

     + 带符号数：
       + 补码：关注“减法”实现、补码加减法的溢出判断
         + 移码：关注偏移量

   + 定点小数——仅用于浮点数尾数表示、关注加减法即可【不关注IEEE754以外标准】

2. 运算方法和运算电路

   + 基本运算部件：加法器、ALU（知道作用就行）
   + 加减运算：补码加减运算器、标志位生成**（CF、SF、ZF、OF）**
   + 乘除运算：乘除法运算的基本原理、乘法电路和除法电路的基本结构（电路P42）

3. 整数表示和运算

   + 无符号数
   + 带符号数：运算关注补码

4. 浮点数的表示和运算：只需要关注IEEE754

   + 加减运算：
     + 对阶：小阶向大阶对齐
     + 对尾数加减：原码定点数加减运算（机器先原转补）
     + 规格化：规格化为1.xxxx形式（左规阶码-1，右规阶码+1）【408中只需左规（右规）一次】
     + 舍入：尾数右规可能导致精度丢失，需要考虑舍入
     + 溢出判断：尾数右规时，阶码超出可表示最大值，上溢（发生异常）；左规时，阶码低于可表示最小值，下溢（表示为0）
       + CF标志位计算：CF产生进位和sub信号进行异或
       + **OF标志位计算**：符号位和最高位进位进行异或

5. IEEE754标准：符号位+阶码+尾数（**float** 1+8+23【符号+移码（偏移127）+原码（定点小数、1隐含）】、double 1+11+52、long double：1+15+64）



#### 考点

1. 数据表示：（408）

   + 数据位数：int-32、short-16、float-32、double-64
   + 16位表示范围：$2^{16}=65536,2^{15}=32768$、带符号short（-32768~32767）、无符号unsigned short（0~65535）

2. 类型转换：

   + 整数扩展

     + 长度相同：机器数不变，解释方式改变

     + 短变长：先扩展（无符号整数零扩展、带符号整数符号扩展），再解释

     + 长变短：先截断（留低位），再解释

   + 浮点数转整数：

     + 先写出科学计数表示：1.xxx，再转换为浮点数，截断尾部时采用0舍1入原则
     + 注意**精度丢失**问题

   + 浮点数转整数：

     + 写出二进制小数，去掉小数部分，保留低位
     + 注意**溢出**、**精度丢失**问题

3. 加减法计算：

   + 无符号整数：
     + 加法规则：按位相加（机算）
     + 减法规则：减数按位取反，末位加1，转换为加法（机算）
     + 溢出问题：CF判断（或者直接十进制范围比较）

4. 乘法：

   + 无符号整数：
     + 机算：逻辑左移替代*2
     + 溢出判断：
       + n位*n位，2n位保存乘积，不会溢出
       + n位*n位，n位保留结果，先2n位暂存，最后截取末尾n位作为最终乘积，可能会溢出
         + 手算：使用十进制比较n位数范围
         + 机器：仅当前n位全为0不溢出
   + 带符号数：使用逻辑移位
     + **溢出**判断（机器）：前n+1位全1或0（与符号值相同）

5. 除法（整数）：进行符号右移，可能丢失精度【408范围内不会发生溢出】

6. 标志位（PSW）：保留由算术/逻辑运算指令或测试指令运行的结果而建立的状态信息，放在程序状态字寄存器



#### 考法

1. 常规考法：结合C语言程序分析表示和运算
2. 加减运算在“条件转移类指令”中的运用

